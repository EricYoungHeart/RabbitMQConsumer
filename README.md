RabbitMQ Consumer Service
Windows Service –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ RabbitMQ –∏ –∏—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞ –¥–∏—Å–∫. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç dual-mode –∑–∞–ø—É—Å–∫: –∫–∞–∫ —Å–ª—É–∂–±–∞ Windows –≤ production –∏ –∫–∞–∫ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.

üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
Dual-mode –∑–∞–ø—É—Å–∫: Windows Service –¥–ª—è production –∏ Console mode –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

–ù–∞–¥–µ–∂–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (ack/nack) –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

–ê–≤—Ç–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å RabbitMQ

Thread-safe: –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –∫–∞–Ω–∞–ª–∞–º–∏ RabbitMQ

–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: –§–∞–π–ª–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ä–µ–∂–∏–º–µ —Å–ª—É–∂–±—ã –∏ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏

–í–∞–ª–∏–¥–∞—Ü–∏—è: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã JSON —Å–æ–æ–±—â–µ–Ω–∏–π –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º

üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã
text
Consumer.exe (Dual-mode)
‚îú‚îÄ‚îÄ BillingConsumerService (Windows Service / Console)
‚îÇ   ‚îú‚îÄ‚îÄ RabbitMqConsumer (–û–±—Ä–∞–±–æ—Ç–∫–∞ RabbitMQ)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Connection Factory
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ EventingBasicConsumer
‚îÇ   ‚îî‚îÄ‚îÄ BillMessagePersistenceService (–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ –¥–∏—Å–∫)
‚îÇ       ‚îî‚îÄ‚îÄ JSON Serializer/Deserializer
‚îî‚îÄ‚îÄ Configuration (appsettings.json)
–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –æ—á–µ—Ä–µ–¥–∏ RabbitMQ

–í–∞–ª–∏–¥–∞—Ü–∏—è JSON —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏—è

–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ –¥–∏—Å–∫ –≤ –ø–∞–ø–∫—É input_messages/

–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (ack) –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—Ç –≤ –æ—á–µ—Ä–µ–¥—å (nack)

–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
.NET Framework 4.8

RabbitMQ Server (–ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–Ω–æ)

Windows (–¥–ª—è —Ä–∞–±–æ—Ç—ã –∫–∞–∫ —Å–ª—É–∂–±—ã)

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
bash
git clone https://github.com/EricYoungHeart/RabbitMQConsumer.git
cd RabbitMQConsumer
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp appsettings.example.json appsettings.json

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
notepad appsettings.json
3. –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
bash
# –°–±–æ—Ä–∫–∞ –≤ —Ä–µ–∂–∏–º–µ Debug (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
dotnet build

# –°–±–æ—Ä–∫–∞ –≤ —Ä–µ–∂–∏–º–µ Release (–¥–ª—è production)
dotnet build -c Release
4. –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (Console mode)
bash
dotnet run
# –∏–ª–∏
.\bin\Debug\net48\Consumer.exe
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

text
=== Running in CONSOLE mode ===
[*] Queue 'billing.queue' has X messages waiting.
[*] Starting consumption...
üíæ [Storage] Saved: Bill_123_Per_202401_V1_20240101_1200_123456.json
–î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞–∂–º–∏—Ç–µ Enter.

5. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–∞–∫ Windows Service
powershell
# –°–±–æ—Ä–∫–∞ –¥–ª—è production
dotnet publish -c Release -o ./publish

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–ª—É–∂–±—ã (–æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)
sc create "BillingConsumerService" binPath="D:\RabbitMQSolution\Consumer\publish\Consumer.exe" start=auto

# –ó–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã
sc start BillingConsumerService

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sc query BillingConsumerService

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–ª—É–∂–±—ã
sc stop BillingConsumerService

# –£–¥–∞–ª–µ–Ω–∏–µ —Å–ª—É–∂–±—ã
sc delete BillingConsumerService
6. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ PowerShell —Å–∫—Ä–∏–ø—Ç–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
–í –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

powershell
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–ª—É–∂–±—ã
.\scripts\Install-Service.ps1

# –£–¥–∞–ª–µ–Ω–∏–µ —Å–ª—É–∂–±—ã
.\scripts\Uninstall-Service.ps1

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
.\scripts\Show-Logs.ps1
‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ appsettings.json
json
{
  "RabbitMQ": {
    "HostName": "localhost",
    "Port": 5672,
    "UserName": "guest",
    "Password": "guest",
    "VirtualHost": "/",
    "QueueName": "billing.queue",
    "UseTls": false,
    "ConnectionSettings": {
      "ClientProvidedNamePrefix": "Billing"
    }
  }
}
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
–ü–∞—Ä–∞–º–µ—Ç—Ä	–û–ø–∏—Å–∞–Ω–∏–µ	–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
HostName	–•–æ—Å—Ç RabbitMQ —Å–µ—Ä–≤–µ—Ä–∞	localhost
Port	–ü–æ—Ä—Ç RabbitMQ	5672
UserName	–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è	guest
Password	–ü–∞—Ä–æ–ª—å	guest
VirtualHost	–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç	/
QueueName	–ò–º—è –æ—á–µ—Ä–µ–¥–∏ –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏	billing.queue
UseTls	–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å TLS —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ	false
ClientProvidedNamePrefix	–ü—Ä–µ—Ñ–∏–∫—Å –∏–º–µ–Ω–∏ –∫–ª–∏–µ–Ω—Ç–∞ –≤ RabbitMQ UI	Billing
–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–í—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã:

powershell
# Windows
$env:RABBITMQ_HOSTNAME="production-rabbitmq"
$env:RABBITMQ_USERNAME="prod_user"
$env:RABBITMQ_PASSWORD="secure_password"
üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
text
Consumer/
‚îú‚îÄ‚îÄ Program.cs                    # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (dual-mode)
‚îú‚îÄ‚îÄ BillingConsumerService.cs     # –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å —Å–ª—É–∂–±—ã
‚îú‚îÄ‚îÄ appsettings.example.json      # –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ appsettings.json              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (local, not in git)
‚îú‚îÄ‚îÄ .gitignore                    # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ README.md                     # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ scripts/                      # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ Install-Service.ps1
‚îÇ   ‚îî‚îÄ‚îÄ Uninstall-Service.ps1
‚îú‚îÄ‚îÄ Consumer.csproj               # –ü—Ä–æ–µ–∫—Ç–Ω—ã–π —Ñ–∞–π–ª
‚îî‚îÄ‚îÄ Infrastructure/
    ‚îî‚îÄ‚îÄ Messaging/
        ‚îú‚îÄ‚îÄ RabbitMqConsumer.cs   # –ö–ª–∏–µ–Ω—Ç RabbitMQ
        ‚îî‚îÄ‚îÄ Models/
            ‚îî‚îÄ‚îÄ BillVersionMessage.cs # –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö
–ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö
csharp
public class BillVersionMessage
{
    public string BillId { get; set; }
    public string Period { get; set; }
    public int CurrentVersion { get; set; }
    // ... –¥—Ä—É–≥–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞
}
–§–æ—Ä–º–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
–°–æ–æ–±—â–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:

text
Bill_{BillId}_Per_{Period}_V{CurrentVersion}_{timestamp}.json
–ü—Ä–∏–º–µ—Ä: Bill_12345_Per_202401_V1_20240101_1200_123456.json

üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–í —Ä–µ–∂–∏–º–µ —Å–ª—É–∂–±—ã: –õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –≤ —Ñ–∞–π–ª service_log.txt –≤ –ø–∞–ø–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–í –∫–æ–Ω—Å–æ–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ: –õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å.

–ü—Ä–∏–º–µ—Ä –ª–æ–≥–∞:

text
2024-01-01 12:00:00 | Service started successfully.
2024-01-01 12:00:01 | [*] Queue 'billing.queue' has 5 messages waiting.
2024-01-01 12:00:02 | üíæ [Storage] Saved: Bill_123_Per_202401_V1_20240101_1200_123456.json
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ RabbitMQ Management UI
–û—Ç–∫—Ä–æ–π—Ç–µ RabbitMQ Management UI (–æ–±—ã—á–Ω–æ http://localhost:15672)

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Connections"

–ù–∞–π–¥–∏—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –∏–º–µ–Ω–µ–º "Billing-Consumer"

–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ:

–°—Ç–∞—Ç—É—Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

–ü–æ—Ç—Ä–µ–±–ª—è–µ–º—É—é –ø–∞–º—è—Ç—å

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
powershell
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–ª—É–∂–±–∞ –∑–∞–ø—É—â–µ–Ω–∞
Get-Service BillingConsumerService

# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏
Get-Content service_log.txt -Tail 50

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
Get-ChildItem input_messages\*.json | Select-Object -First 10
üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
–ó–∞—â–∏—Ç–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
–ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ appsettings.json —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–∞—Ä–æ–ª—è–º–∏ –≤ Git

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ appsettings.example.json –∫–∞–∫ —à–∞–±–ª–æ–Ω

–î–ª—è production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã

Windows Credential Manager

Azure Key Vault (–¥–ª—è –æ–±–ª–∞—á–Ω—ã—Ö —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–π)

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ TLS –¥–ª—è RabbitMQ
json
{
  "RabbitMQ": {
    "UseTls": true,
    "Port": 5671,
    "Ssl": {
      "ServerName": "your-rabbitmq-server",
      "AcceptablePolicyErrors": "None"
    }
  }
}
üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫
–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
1. –°–ª—É–∂–±–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
–°–∏–º–ø—Ç–æ–º—ã: –û—à–∏–±–∫–∞ "Service cannot be started" –∏–ª–∏ –∫–æ–¥ –æ—à–∏–±–∫–∏ 1053.

–†–µ—à–µ–Ω–∏–µ:

powershell
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
icacls "D:\RabbitMQSolution\Consumer\publish\Consumer.exe"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
.\publish\Consumer.exe

# –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ Event Log
Get-EventLog -LogName Application -Source "BillingConsumerService" -Newest 10
2. –ù–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å RabbitMQ
–°–∏–º–ø—Ç–æ–º—ã: –û—à–∏–±–∫–∞ "Connection refused" –∏–ª–∏ —Ç–∞–π–º–∞—É—Ç—ã.

–†–µ—à–µ–Ω–∏–µ:

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω –ª–∏ RabbitMQ —Å–µ—Ä–≤–µ—Ä

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö–æ—Å—Ç–∞ –∏ –ø–æ—Ä—Ç–∞

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä

powershell
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ RabbitMQ
Test-NetConnection localhost -Port 5672
3. –°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
–°–∏–º–ø—Ç–æ–º—ã: –°–æ–æ–±—â–µ–Ω–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç—Å—è, –Ω–æ —Ñ–∞–π–ª—ã –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è.

–†–µ—à–µ–Ω–∏–µ:

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ –ø–∞–ø–∫—É input_messages

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É JSON —Å–æ–æ–±—â–µ–Ω–∏–π

powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
Get-Acl input_messages | Format-List

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
Get-PSDrive C | Select-Object Used, Free
4. –í—ã—Å–æ–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
–°–∏–º–ø—Ç–æ–º—ã: –°–ª—É–∂–±–∞ –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏.

–†–µ—à–µ–Ω–∏–µ:

–£–º–µ–Ω—å—à–∏—Ç–µ prefetch count (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1)

–†–µ–∞–ª–∏–∑—É–π—Ç–µ –æ—á–∏—Å—Ç–∫—É —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ rotation –ª–æ–≥–æ–≤

–ö–æ–¥—ã –æ—à–∏–±–æ–∫
–ö–æ–¥ –æ—à–∏–±–∫–∏	–û–ø–∏—Å–∞–Ω–∏–µ	–†–µ—à–µ–Ω–∏–µ
1053	–°–µ—Ä–≤–∏—Å –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ	–£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç –∑–∞–ø—É—Å–∫–∞
1064	–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–∏—Å–∞	–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ –ª–æ–≥–∏
7000	–û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π	–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ .NET Framework 4.8
üîÑ –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ
–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
–ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

Prometheus –º–µ—Ç—Ä–∏–∫–∏

Health checks

Dashboard —Å Grafana

–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

Dead Letter Queue (DLQ)

Retry policies —Å exponential backoff

Circuit breaker pattern

–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ RabbitMQ

–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏ –º–µ–∂–¥—É –∏–Ω—Å—Ç–∞–Ω—Å–∞–º–∏

–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–ª—è TLS

RBAC –¥–ª—è RabbitMQ

–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –¥–∏—Å–∫–µ

–ö–æ–Ω—Ç—Ä–∏–±—å—é—Ç–∏–Ω–≥
–§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

–°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è —Ñ–∏—á–∏ (git checkout -b feature/amazing-feature)

–ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (git commit -m 'Add amazing feature')

–ó–∞–ø—É—à—å—Ç–µ –≤ –≤–µ—Ç–∫—É (git push origin feature/amazing-feature)

–°–æ–∑–¥–∞–π—Ç–µ Pull Request

üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ MIT License - —Å–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª LICENSE –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏
–ö–æ–º–∞–Ω–¥–∞ RabbitMQ –∑–∞ –æ—Ç–ª–∏—á–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

–°–æ–æ–±—â–µ—Å—Ç–≤–æ .NET –∑–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

–í—Å–µ –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞
–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Issues

–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ Issue —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

–î–ª—è —Å—Ä–æ—á–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ - —Å–≤—è–∂–∏—Ç–µ—Å—å —Å maintainer –ø—Ä–æ–µ–∫—Ç–∞
